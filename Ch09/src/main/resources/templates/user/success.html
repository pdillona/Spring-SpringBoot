<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
>
<!-- pom.xml에서 디펜던시 가져와서 스프링 시큐리티 적용 세션을 열어 setattribute와 같은 방식은 보안에 취약 하기 때문에 시큐리티를 사용해서 넘기고 사용한다. -->
	<head>
		<meta charset="UTF-8">
		<title>user::success</title>
	</head>
	<body>
		<h3>로그인 성공</h3>
				
		<p sec:authorize="isAuthenticated()" >
			아이디:<span>[[${#authentication.principal.uid}]]</span>님 반갑 습니다. <br>
			이름: <span>[[${#authentication.principal.name}]]</span> <br>
			나이: <span sec:authentication="principal.age"></span> <br>
			휴대폰: <span sec:authentication="principal.hp"></span> <br>
			권한: <span sec:authentication="principal.role"></span> <br>
			가입일: <span>[[${#authentication.principal.regDate}]]</span> <br>

			<a th:href="@{/user/logout}">로그아웃</a>
		</p>
		<a th:href="@{/}">메인</a>
	</body>
</html>